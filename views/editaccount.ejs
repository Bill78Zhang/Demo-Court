<!DOCTYPE html>
<html lang="en">
<head>
  <title> Edit account</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="css/edit.css">
  <link rel="stylesheet" type="text/css" href ="css/signin.css">
  <style>
  .user-message{
  margin:auto;
  width:90%;
  border:1px, solid,#4771fa;
  padding: 1rem;
  border-radius: 3px;
  background: #b9c9ff;
  text-align: center;

}

.user-message--error{
  border-color: red;
  background: rgb(175, 86, 86)
}
body {
  margin: 0;
  font-size: 20px;
  font-family: Arial, Helvetica, sans-serif;
  background-image: url("/images/b1.jpg");
  background-size:cover;
}
#navbar {
  overflow: hidden;
  background-color: black;
  z-index: 10;
}

#navbar a {
  float: left;
  display: block;
  
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 20px;
}


#navbar a.active {
  background-color: #4CAF50;
  color: white;
}



.sticky {
  position: fixed;
  top: 0;
  width: 100%;
}

.sticky + .content {
  padding-top: 60px;
}
img {
    max-width: 100%;
    max-height: 100%;
}
.bg-image {
  /* The image used */
  background-image: url("Our 2.png");
  
  /* Add the blur effect */
 
  /* Full height */
  height: 150%; 
  width: auto;
  
  /* Center and scale the image nicely */
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  z-index: -1;
  color: white;
}
.bg-image1 {
  /* The image used */
  background-image: url("images/about3.png");
 
  
  /* Center and scale the image nicely */
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  z-index: -1;
  color: white;
  width: 100%;
  max-height: 100%;
}
.cs
{
  font-size: 15px; font-family: Times New Roman;
  color: white;
}
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #333333;
}

li {
  float: left;

}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 16px;
  text-decoration: none;
}

li a:hover {
  background-color: #111111;
}
.v1{width:88%;margin:auto;}
.col-md-4{font-size: 20px;}
  </style>
</head>

<body>
<div id="navbar" >
  <ul>
    <li><a class="navbar-brand " href="/"><img src="images/logoc.png" width="150" height="200"   ></a></li>
    <li><a href='/editProfile' style="color: white;">Setting</a></li>
    <li><a href='/likePage' style="color: white;">Likes</a></li>
    <li><a href="/logout" style="color: white;">Sign out</a></li>
 
		
      <li style="float: right;"><a class="nav-link " href="/upload"><img src="images/upload.png" alt="logo" style="width:40px;" ></a></li>
      <li style="float: right;"><a href="/personal"><img src="/<%=user.avatar%>" class=" rounded-circle" alt="Cinque Terre" width="40" height="40"  ></a></li>
       
   
  </ul>
</div>
  <div class="p-5 row ">
    <div class="col-sm-3" style="background-color:bg-light;">
      <div>
        <a class="nav-link text-dark" href="#"><img src="/<%=user.avatar%>" class=" rounded-circle center" alt="Cinque Terre" width="60" height="60"></a>
        <p style="text-align: center;"><b><%=user.username%></b></p>
        <p style="text-align: center;"><%=createTime%></p>
       
         <div class="vertical-menu p-2 " style="background-color: bg-light;  margin: auto;">
        <a href="#" class="active" style="text-align: center;"><b>Setting</b></a>
          <a href="/editAccount" style="text-align: center;">Account</a>
          <a href="/editProfile" style="text-align: center;"><b>Profile</b></a>
          <!-- <a href="/resetPage" style="text-align: center;">Reset Password</a> -->
      </div>
      </div>
      
    </div>

    <div class="col-sm-9 bg-light" style="background-color:lavenderblush;">
      <div class="col-sm-10 center">
        <h4><b>Account</b></h4>
        <div>
          <label for="comment">Name</label>
          <p style="color: grey ">Change your name here</p>
          <form action = '/EditUserName' method = 'POST'>
          <textarea class="form-control" rows="1" id="comment" name="newUserName" placeholder="<%=user.username%>"></textarea>
          <br/>
          <button type="submit" class="btn btn-primary">Save</button>
          </form>
          <br/>
   
          <p class="p-2"></p>
          <label for="comment">Email address</label>
          <p style="color: grey ">Change your email here</p>
          <p><%=email%><a href="#" data-toggle="modal" data-target="#myModal"> &nbsp; Edit</a></p>
          <% if(errorMessage){%>
            <div class="user-message use-message--error"><%=errorMessage%></div>
            <%}%>
          <!-- Modal -->
          <div class="modal fade" id="myModal" role="dialog" >
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header" style=" text-align: center;">
                  
                  <h4 class="modal-title" >Edit email</h4>
                </div>
                <form action = '/EditEmail' method = "POST">
                <div class="modal-body"> 
                    <input type="text" style="width: 80%; margin-bottom:15px;" id="fname" name="newEmail" placeholder="Email address">
                    <input type="text" style="width: 80%; margin-bottom:15px;" id="fname" name="confirmEmail" placeholder="Confirm your email address">
                    <input type="text" style="width: 80%; margin-bottom:15px;" id="fname" name="password" placeholder=" Enter your password to confirm:">
                </div>
                <div class="modal-footer">
                  <a data-dismiss="modal">Cancel &nbsp;&nbsp;&nbsp;</a>
                  <button type="button" class="btn btn-default" data-dismiss="modal" type = 'submit'>Apply</button>
                </div>
              </div> 
            </div>
          </div>

          <p class="p-2"></p>
          <p class="p-2"></p>
          <button type="submit" class="btn btn-primary">Save</button>
          <p class="p-2"></p>
        </div>
      </div>
    </div>
 </from>
  </div>
  <!--End of row-->
</div>

<script>
window.onscroll = function() {myFunction()};

var navbar = document.getElementById("navbar");
var sticky = navbar.offsetTop;

function myFunction() {
  if (window.pageYOffset >= sticky) {
    navbar.classList.add("sticky")
  } else {
    navbar.classList.remove("sticky");
  }
}
$(document).ready(function(){
    $('[data-toggle="popover"]').popover({html:true});   
});
function loadDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("demo").innerHTML =
      this.responseText;
    }
  };
  xhttp.open("GET", "ajax_info.txt", true);
  xhttp.send();
}
</script>

</body>
</html>
